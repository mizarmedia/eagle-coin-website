---

---

<div id="rotating-coin-container" class="fixed right-8 top-1/2 -translate-y-1/2 z-40 pointer-events-none hidden lg:block">
  <div id="rotating-coin" class="w-32 h-32 relative" style="perspective: 1000px;">
    <!-- Coin Front -->
    <div class="coin-face coin-front absolute inset-0 rounded-full shadow-2xl"
         style="backface-visibility: hidden; transform-style: preserve-3d;">
      <div class="w-full h-full rounded-full bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 flex items-center justify-center border-4 border-yellow-300 shadow-inner">
        <div class="text-yellow-900 font-display font-bold text-2xl">$50</div>
      </div>
      <!-- Rim lighting effect -->
      <div class="absolute inset-0 rounded-full bg-gradient-to-tr from-transparent via-white/30 to-transparent pointer-events-none"></div>
    </div>

    <!-- Coin Back -->
    <div class="coin-face coin-back absolute inset-0 rounded-full shadow-2xl"
         style="backface-visibility: hidden; transform: rotateY(180deg); transform-style: preserve-3d;">
      <div class="w-full h-full rounded-full bg-gradient-to-br from-yellow-500 via-yellow-600 to-yellow-700 flex items-center justify-center border-4 border-yellow-400 shadow-inner">
        <svg class="w-16 h-16 text-yellow-900" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </div>
      <!-- Rim lighting effect -->
      <div class="absolute inset-0 rounded-full bg-gradient-to-tl from-transparent via-white/20 to-transparent pointer-events-none"></div>
    </div>

    <!-- Shadow -->
    <div id="coin-shadow" class="absolute -bottom-4 left-1/2 -translate-x-1/2 w-24 h-4 bg-black/20 rounded-full blur-md"></div>
  </div>
</div>

<style>
  #rotating-coin {
    transform-style: preserve-3d;
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .coin-face {
    transition: box-shadow 0.1s ease-out;
  }

  /* Shimmer effect on hover-like states */
  @keyframes shimmer-effect {
    0% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.6;
    }
    100% {
      opacity: 0.3;
    }
  }

  .coin-face::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 9999px;
    background: linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
    animation: shimmer-effect 2s ease-in-out infinite;
  }
</style>

<script>
  const coin = document.getElementById('rotating-coin');
  const container = document.getElementById('rotating-coin-container');
  const shadow = document.getElementById('coin-shadow');

  if (coin && container) {
    let rotation = 0;
    let lastScrollY = window.scrollY;

    function updateCoinRotation() {
      const scrollY = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;

      // Calculate scroll percentage (0 to 1)
      const scrollPercent = Math.min(scrollY / docHeight, 1);

      // 3 full rotations per full page scroll
      rotation = scrollPercent * 1080;

      // Apply rotation
      coin.style.transform = `rotateY(${rotation}deg)`;

      // Update shadow based on rotation
      const shadowOpacity = 0.1 + 0.1 * Math.abs(Math.sin(rotation * Math.PI / 180));
      const shadowScale = 0.8 + 0.2 * Math.abs(Math.cos(rotation * Math.PI / 180));

      if (shadow) {
        shadow.style.opacity = String(shadowOpacity);
        shadow.style.transform = `translateX(-50%) scaleX(${shadowScale})`;
      }

      lastScrollY = scrollY;
    }

    // Throttled scroll handler
    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateCoinRotation();
          ticking = false;
        });
        ticking = true;
      }
    });

    // Initial update
    updateCoinRotation();

    // Hide on scroll to very bottom (near footer)
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      const docHeight = document.documentElement.scrollHeight;
      const windowHeight = window.innerHeight;

      // Hide when near bottom 20% of page
      if (scrollY + windowHeight > docHeight * 0.85) {
        container.style.opacity = '0';
        container.style.transition = 'opacity 0.3s ease-out';
      } else {
        container.style.opacity = '1';
      }
    });
  }
</script>
